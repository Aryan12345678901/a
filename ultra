//Program ID:ultrasonic

//Team:Aryan Khandelwal, Anna Lin, Md.Arib C, Nicholas P

//Purpose: To make the robot move in a designated way



#pragma config(Sensor, S2,     ,               sensorEV3_Touch)
#pragma config(Sensor, S3,     ,               sensorEV3_Ultrasonic)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//
//allows the robot to use ultrasonic

void ultrasonic()
	{
		setMotorSpeed(motorB,5);
		setMotorSpeed(motorC,5);
	}


	//allows the robot to to touch sensor
	
	void touchsensor()
	{
	setMotorSpeed(motorB,0);
	setMotorSpeed(motorC,0);
	}



	task main()
{
	repeat(forever)
  {

  //alows the motor to move at 40 percent speed

  setMotorSpeed(motorB,40);

	setMotorSpeed(motorC,40);


//	currentDistance = SensorValue(S3);
//	touchsensor = SensorValue(S2);

	if(SensorValue(S3) < 20)
	{
		ultrasonic();
	}

	if(SensorValue(S2)== 1)
{
 
touchsensor();

while(SensorValue(lightSensor) < 45)   

{     

motor[motorC] = 70;       

motor[motorB] = 80;       

}       

while(SensorValue(lightSensor) >= 45)  

{     

motor[motorC] = 80;   

motor[motorB] = 0;     

} 
//allows the robot to move back
 
 setMotorSpeed(motorB,-10);
 setMotorSpeed(motorC,-10);
wait1Msec(1000);

//allows the robot to move turn

setMotorSpeed(motorB,0);
	setMotorSpeed(motorC,180);
	wait1Msec(1150);
	}



	}

}










task main()

{ 

while(1==1)       

{  

while(SensorValue(lightSensor) < 45)   

{     

motor[motorC] = 70;       

motor[motorB] = 80;       

}       

while(SensorValue(lightSensor) >= 45)  

{     

motor[motorC] = 80;   

motor[motorB] = 0;     

} 

} 

}
